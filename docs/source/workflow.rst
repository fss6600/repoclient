
Термины
=======

:Репозиторий: Под *репозиторием* понимается любая папка на локальном компьютере или на сетевом ресурсе или FTP сервере, с располагающимися там папками подсистем.

:Пакеты: Все папки в корне репозитория считаются *пакетами*, содержащие файлы и папки подсистем. Файлы в корне репозитория игнорируются.

_____________

Первый запуск
=============

После первого запуска клиента необходимо установить `путь к репозиторию пакетов`_, где располагаются подсистемы **ЕИИС Соцстрах**.

Затем проверить наличие обновлений в репозитории - кнопка `ПРОВЕРИТЬ`.
При успешной попытке соединения с сервером в левой панели отобразятся доступные пакеты в репозитории. Пакеты, которых нет на клиенткой машине будут подкрашены *светло-синим* цветом, обновленные пакеты *светло-зеленым*.
Если пакета нет в репозитории, но он присутствует на клиентской машине по пути установки подсистем, он будет подкрашен *светло-красным* цветом.
Если по указанному пути установки подсистем уже имеются какие-то из пакетов, программа отметит их галочками. В правой верхней панели отобразятся имеющиеся статистические данные.

.. figure:: _static/images/first_run.png
    :align: center

    *При первом запуске информации о пакетах нет. Требуется указать путь к репозиторию в настройках.*

.. figure:: _static/images/update_process_new.png
    :align: center

    *После указания пути к репозиторию и проверки обновлений.*
    *Существующие пакеты в папке установки помечены галками и зеленым цветом, отсутствующие в репозитории, но имеющиеся в папке установки - красным.*
    *Остальные пакеты момечены как новые.*

.. figure:: _static/images/update_process_changes.png
    :align: center

    *При следующем обновлении обновленные и удаленные в репозитории пакеты будут помечены определенным цветом.*


.. figure:: _static/images/first_run_2.png
    :align: center

    *Обновлений нет в репозитории.*


При неудачном подключении к серверу, в нижней левой панели отбразится соответствующее сообщение. В таком случае необходимо обратиться к администраторам.

.. figure:: _static/images/first_run_error.png
    :align: center

    *Ошибки будут указаны в панели вывода красным цветом*

___________________

Управление пакетами
===================

.. attention::
    **Перед началом работы с программой убедитесь, что Вы закрыли все свои подсистемы, во избежания возникновения ошибок в процессе установки.**

Для управления пакетами требуется следующая очередность шагов:

    #. проверить наличие обновлений в репозитории;
    #. обновить / установить / удалить требуемые пакеты;

*Проверка обновлений*
    Для проверки обновлений нажмите экранную кнопку **Проверить** или пункт в меню - **Сервис** - **Проверить обновления** или клавишу <``F2``>.
    Запустится процесс проверки, о наличии обновлений будет указано в правой верхней панели (*Информационная панель*), измененные или удаленные пакеты будут подсвечены соответствующим цветом.

*Удаление пакетов*
    Для удаления снимите галки с удаляемых пакетов и нажмите кнопку **Обновить** или выбрать в меню пункт **Сервис** - **Обновить** или нажать клавишу <``F3``>.
    Для удаления пакетов предварительная проверка на наличие обновлений не требуется.

*Процесс обновления/установки*
    Для установки, обновления, необходимо выбрать в левой панели (*Пакеты подсистем*) необходимые пакеты,
    которые также будут выделены цветом и нажать кнопку **Обновить** или выбрать в меню пункт **Сервис** - **Обновить** или нажать клавишу <``F3``>.
    Запустится процесс обмена данными с репозиторием и загрузка новых файлов, при их наличии.
    Информация о процессе работы будет отображаться в правой нижней панели (*Панель сообщений*) и в прогресс-баре.

.. figure:: _static/images/process_start.png
    :align: center

    *Выбранные пакеты выделяются соответствующим цветом*

.. figure:: _static/images/update_process.png
    :align: center

    *Процесс удаления и загрузки пакетов*

При возникновении ошибки в панели сообщения появится соответствующее сообщение красными буквами:

.. figure:: _static/images/process_error.png
    :align: center

    *Сообщение об ошибке*

В случае возникновения ошибки при установке пакетов, проверьте. не запущены ли у Вас обновляемые подсистемы.

В подобных случаях лучше связаться с администраторами за консультацией

Об окончании процесса программа сообщит в панели сообщений. Признак окончания процесса обновления - сообщение **Обновление завершено** и полностью заполненный прогресс-бар:

.. figure:: _static/images/process_success.png
    :align: center

    *Удачное завершение*

______________

Меню программы
==============

Файл
----

**Обновить список пакетов** | <``F5``>
    Обновление списка пакетов в левой панели программы. Можно нажать клавишу <``F5``> или на экранную кнопку над списком пакетов.

**Выбор пакетов**
    - Выбрать все пакеты в списке или
    - Снять выбор со всех выбранных пакетов

**Завершить работу** | <``Ctrl-q``>
    Завершение работы с программой.

Сервис
------

**Проверить обновления** | <``F2``>
    Запускает процесс проверки обновлений.

**Обновить** | <``F3``>
    Запускает процесс обновления (неактивен, пока не будет проведена проверка обновления).

**Очистка - Очистка буфера**
    В момент загрузки пакетов из репозитория файлы сначала скачиваются и сохраняются в буфере - временной папке. После удачной загрузки всех файлов пакеты переносятся по пути установки подсистем. В случае ошибки при попытке обновиться после неудачной загрузки на файлы в буфере, можно очистить буфер и заново запустить процесс обновления.

**Обновить ярлыки**
    Пересоздание ярлыков для установленных подсистем на рабочем столе пользователя.

**Полная обработка**
    Принудительное обновление файлов. При выборе данной опции при обновлении файлы не будут сверяться с уже установленными, а заново будут скачаны из репозитория.

**Настройки**
    Вызов настроек программы.

Сервис::Настройки
~~~~~~~~~~~~~~~~~

.. figure:: _static/images/settings.png
    :align: center

    *Настройки*

**Путь установки подсистем**
    Указывается путь на диске, куда будут установлены подсистемы ЕИИС на ПК пользователя. Заполняется автоматически при выборе соответствующего пункта (см. следующий пункт).
    Установка доступна в общую папку **Program Files** при наличии соответствующих прав, или в профиль пользователя.

**Устанавливать в профиль пользователя**
    Если выбрано, меняет путь установки подсистем в папку профиля пользователя. Может быть полезным, если у пользователя нет прав на установку в **Program Files**

**Путь к репозиторию** [*]_
    Указывает _`путь к репозиторию пакетов`. Может быть задан как путь к ftp-серверу, сетевой или локальной папке. Например: ::

        ftp://server.name/repo/path
        ftp://user:pass@server/repo/path
        ftp://10.66.0.125
        \\10.66.0.125\repo/path
        \\server_name\repo\path
        С:\path\to\repo

**Количество потоков загрузки**
    Для ускорения загрузки множества файлов можно увеличить количество потоков. Полезно для сетевого репозитория. Подбирается опытным путем. Рекомендуется 2-3. (По-умолчанию 2)

**Обновлять все ярлыки после обновления**
    Обновляет ярлыки на подсистемы после каждого обновления.

**Ярлыки в отдельной папке на рабочем столе**
    При выбранной опции ярлыки создаются в отдельной папке на рабочем столе *ЕИИС Соцстрах*.
    При сохранении настроек ярлыки переносятся в.. или из.. папки в соответствии снастройками.

**Кодировка FTP-сервера**
    Установка кодировки при работе с FTP-сервером. По-умолчанию UTF-8

Помощь
------

**Руководство** [**F1**]
    Вызов данного руководства

**О программе**
    Вывод информации о версии

____________________________

.. [*] обязательный параметр


